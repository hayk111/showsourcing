<a [routerLink]="['/dashboard']">
  <img src="assets/img/favicon.svg" class="logo"/>
</a>
<nav>
  <a [routerLink]="['/dashboard']" routerLinkActive="selected">Home</a>

  <a [routerLink]="['/project']" routerLinkActive="selected">Projects</a>

  <a [routerLink]="['/product']" routerLinkActive="selected">Products</a>

  <a [routerLink]="['/supplier']" routerLinkActive="selected">Suppliers</a>

  <!-- <a [routerLink]="['/shows']" routerLinkActive="selected">Shows</a> -->

	<a [routerLink]="['/workspace']" routerLinkActive="selected">Workspace</a>

	<a [routerLink]="['/request']" routerLinkActive="selected">Requests</a>

  <!-- we don't want those links in production... -->
  <a
    *ngIf="!isProd"
    [routerLink]="['/component-library']"
    routerLinkActive="selected">
    Component Library
  </a>

  <a *ngIf="!isProd"
    [routerLink]="['/test']"
    routerLinkActive="selected">
    Test Page
  </a>


</nav>

<div class="flexCenter right">
	<!-- Let's move this in a component, for the love of god Thierry... -->
  <search-autocomplete-app #searchAutocomplete [xPosition]="0" [yPosition]="35"
                          [width]="400" [closeOnDisplay]="true"
                          (close)="searchBar.shrinkSearch()">
    <search-autocomplete-item-app *ngFor="let result of (searchResults$ | async);trackBy: trackByFn">
      <search-autocomplete-item-content-app
        *ngIf="result.type === 'product'"
        [type]="result.type"
        [selectable]="false"
        [status]="result?.status?.status" [title]="result.name" [subtitle]="result.supplier?.name"
        [image]="result.images[0]"
        [link]="'/product/details/' + result.id">
      </search-autocomplete-item-content-app>
      <search-autocomplete-item-content-app
        *ngIf="result.type === 'supplier'"
        [type]="result.type"
        [selectable]="false"
        [status]="result?.status?.status" [title]="result.name" [subtitle]="supplierSubtitle(result)"
        [image]="result.images[0]"
        [link]="'/supplier/details/' + result.id ">
      </search-autocomplete-item-content-app>
    </search-autocomplete-item-app>
  </search-autocomplete-app>
  <search-bar-animated-app #searchBar [disableClickOutside]="true" [hasBorder]="false"
                          [ngClass]="{ expanded: searchBarExpanded }"
                          (searchStateChanged)="onSearchBarStateChanged($event)">
    <input inputApp class="searchInput" restrictSpecial [restrictArrows]="true" type="text" (input)="triggerSearch()" [formControl]="searchControl" placeholder="Search Products, Suppliers..."/>
	</search-bar-animated-app>
  <!-- <notif-app></notif-app> -->
  <div class="divider"></div>
	<user-panel-app [user]="user$ | async" [team]="team$ | async" (logout)="logout()"></user-panel-app>
</div>
