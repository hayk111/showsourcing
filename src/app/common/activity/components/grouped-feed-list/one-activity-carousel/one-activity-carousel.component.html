<div class="previewCtnr flex flexGrow">
	<!-- no images available -->
	<ng-container *ngIf="images?.length === 0; else carousel">
		<div class="empty flexCenter flexColumn">
			<img [src]="defaultImg"/>
			<span translate="text.no-picture"></span>
		</div>
	</ng-container>

	<!-- images preview  -->
	<ng-template #carousel>
		<ng-container *ngIf="images?.length < 3; else multipleActivity">
			<img-app class="carousel-img" [image]="images[0]" (click)="openModal(0)"></img-app>
			<img-app *ngIf="images?.length > 1" class="mg-left carousel-img" [image]="images[selectedIndex + 1]" (click)="openModal(1)"></img-app>
		</ng-container>

		<ng-template #multipleActivity>
			<div 
					class="previewCtnr flexStart"
					(mouseenter)="showArrows = true"
					(mouseleave)="showArrows = false">
					<div class="grid-section" horizontalScroll #cardSection>
						<div *ngFor="let item of images.slice(0, 10); let selectedIndex = index;" class="card">
							<img-app class="carousel-img" [image]="images[selectedIndex]" (click)="openModal(selectedIndex)"></img-app>
						</div>
					</div>

					<div class="flex flexVAlign" *ngIf="showArrows">
						<div class="move-btn back flexCenter pointer"
							(mousedown)="back($event)">
							<icon-app name="angle-left" size="m"></icon-app>
						</div>
					
						<div class="move-btn next flexCenter pointer"
							(mousedown)="next($event)">
							<icon-app name="angle-right" size="m"></icon-app>
						</div>
					</div>
				</div>
		</ng-template>
	</ng-template>

	<modal-carousel-app
		*ngIf="indexModal > -1"
		[selectedIndex]=[indexModal]
		[images]="images"
		(close)="closeModal()">
	</modal-carousel-app>

</div>