<dialog-app class="vertical-scroll-content">
	<dialog-header-app translate="text.new-product"></dialog-header-app>

	<div class="container flex">
		<!-- left -->
		<div class="left">
			<h3 class="ms" translate="text.product-picture"></h3>
			<carousel-app
				[images]="product?.images"
				[hasPreview]="true"
				[showConfirmOnDelete]="false"
				(uploaded)="imagesCreated($event)"
				(deleted)="imageDeleted($event)"
			>
			</carousel-app>

			<h3 class="ms" translate="text.attachments"></h3>
			<files-card-app
				[files]="product?.attachments"
				[secondaryStyle]="true"
				(uploaded)="filesCreated($event)"
				(deleted)="fileDeleted($event)"
			>
			</files-card-app>
		</div>

		<!-- right -->
		<div class="right">
			<h3 class="ms" translate="text.product-details"></h3>

				<label-app>Name</label-app>
				<input
					#inputName
					inputApp
					type="text"
					[required]="true"
					[readonly]="false"
					(blur)="product.name = inputName.value"
				/>

			<dynamic-form2-app
				#form
				[descriptor]="descriptor"
				[columnAmount]="columnAmount"
				[style]="style"
				[updateOn]="updateOn"
				[properties]="descriptorProperties"
				(update)="updateProduct($event)">
			</dynamic-form2-app>
		</div>
	</div>

	<dialog-footer-app>
		<checkbox-app (update)="toggleCheckbox()">
			{{ 'text.create-another' | translate }}
		</checkbox-app>
		<button
			tabFocusAction
			class="secondary"
			(click)="dlgSrv.cancel()"
			translate="button.cancel"
		></button>
		<button tabFocusAction (click)="save()" [disabled]="!form.valid || !product.name" translate="button.save-product"></button>
	</dialog-footer-app>
</dialog-app>
