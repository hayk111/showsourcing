<dialog-app [hasBorder]="false" [hasFooter]="false">

	<dialog-header-app translate="Select Projects"></dialog-header-app> <!-- TODO: translation to be added -->

	<controller-table-app>
		<controller-table-quick-filters-app></controller-table-quick-filters-app>
		<controller-table-quick-actions-app></controller-table-quick-actions-app>
	</controller-table-app>

	<div class="flex ctnr">

		<projects-table-app
			[hasPagination]="true"
			[hasShowItemsPerPage]="false"
			[footerTemplate]="footer"
			[navigation]="false"
			[hasMenu]="false"
			[selection]="listSrv.selection$ | async"
			[rows]="listSrv.items$ | async"
			[pending]="listSrv.pending"
			[count]="listSrv.count$ | async"
			[currentSort]="listSrv.currentSort"
			[currentPage]="listSrv.currentPage"
			(goToPage)="listSrv.loadPage($event)"
			(select)="select($event)"
			(unselect)="unselect($event)"
			(selectAll)="selectAll($event)"
			(unselectAll)="unselectAll()"
			(sort)="listSrv.sort($event)"
			(delete)="listSrv.deleteOne($event)">
		</projects-table-app>
	
		<filters-app
			*ngIf="listSrv.filterPanelOpen"
			[filterList]="listSrv.filterList"
			[filterTypes]="filterTypes"
			[sidePanel]="false"
			(close)="listSrv.closeFilterPanel()">
		</filters-app>
		
	</div>

	<ng-template #footer>
		<div class="flexVAlign">
			<div class="product-action">
				<span class="selected-product-count">{{ selectedProjectsCount }}</span>
				<span class="selected-product">Project Selected</span> <!-- TODO: add translation -->
			</div>
			<button class="primary-light cancel secondary capitalize" (click)="cancel()" translate="button.cancel"></button>
			<button class="add-to-project capitalize" (click)="submit()" translate="button.add-to-project"></button>
		</div>
	</ng-template>

	<ng-template #spinner>
		<spinner-app></spinner-app>
	</ng-template>
</dialog-app>
