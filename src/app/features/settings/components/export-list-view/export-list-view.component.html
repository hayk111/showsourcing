<table-app
	[rows]="rows"
	[hasSelection]="false"
	[pending]="pending"
	[contextualMenu]="contextualMenuTemplate"
	placeholder="No exports"
	(sort)="sort.emit($event)"
	(bottomReached)="bottomReached.emit()"
	i18n-placeholder="@@no-exports">

		<!-- contextual menu -->
		<ng-template #contextualMenuTemplate let-row="row">
			<context-menu-item-app
				class="pointer flexCenter"
				(click)="download.emit(row)"
				i18n="button@@download">
				download
			</context-menu-item-app>
		</ng-template>

		<!-- export name -->
		<ng-template
			[columnApp]="'export' | const: 'messages'"
			sortBy="name"
			let-row="row"
			width="280">
			<div class="capitalize">
				{{ row?.format }} {{ row?.creationDate | date: 'dd-MMM-yy H:mm'}}
			</div>
		</ng-template>

		<!-- status -->
		<ng-template
			[columnApp]="'status' | const: 'messages'"
			let-row="row"
			sortBy="status"
			width="140"
			[sortOrder]="'DESC'">
			{{ row?.status }}
		</ng-template>

		<!-- date -->
		<ng-template
			[columnApp]="'creation date' | const: 'messages'"
			let-row="row"
			sortBy="creationDate"
			width="280"
			[sortOrder]="'DESC'">
			{{ row?.creationDate | date: 'MMMM y' }}
		</ng-template>

		<!-- user -->
		<ng-template
			[columnApp]="'created by' | const: 'messages'"
			let-row="row"
			sortBy="createdBy.lastName"
			width="280">
			<div class="flex flexCenter">
				<span class="ellipsis">{{ row?.createdBy?.firstName }} {{row?.createdBy?.lastName}}</span>
			</div>
		</ng-template>

		<!-- download -->
		<ng-template
			[columnApp]="'download' | const: 'messages'"
			let-row="row"
			sortBy="createdBy.lastName"
			[grows]="false"
			width="100">
			<div class="tool-tip" toolTip [toolTipMessage]="getToolTipMsg(row?.status)" toolTipPosition="above-right">
				<icon-app
					[ngClass]="{'disabled': row?.status !== 'ready'}"
					class="download" name="file" (click)="download.emit(row)">
				</icon-app>
			</div>
		</ng-template>

</table-app>