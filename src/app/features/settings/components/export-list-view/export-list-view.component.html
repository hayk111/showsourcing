<table-app
	[placeholder]="'placeholder.no-exports' | translate"
	[rows]="rows"
	[hasSelection]="false"
	[pending]="pending"
	[contextualMenu]="contextualMenuTemplate"
	[count]="count"
	[currentPage]="currentPage"
	(goToPage)="goToPage.emit($event)"
	(sort)="sort.emit($event)"
	(bottomReached)="bottomReached.emit()">

		<!-- contextual menu -->
		<ng-template #contextualMenuTemplate let-row="row">
			<context-menu-item-app
				class="pointer flexCenter"
				(click)="download.emit(row)"
				translate="button.download">
			</context-menu-item-app>
		</ng-template>

		<!-- export name -->
		<ng-template
			[columnApp]="'header.export' | translate"
			sortBy="name"
			let-row="row"
			width="300">
			<div class="capitalize">
				{{ row?.format }} {{ row?.creationDate | date: 'dd-MMM-yy H:mm':'':translate.currentLang}}
			</div>
		</ng-template>

		<!-- status -->
		<ng-template
			[columnApp]="'header.status' | translate"
			let-row="row"
			sortBy="status"
			width="150"
			[sortOrder]="'DESC'">
			{{ 'text.' + row?.status | translate }}
		</ng-template>

		<!-- date -->
		<ng-template
			[columnApp]="'header.creation-date' | translate"
			let-row="row"
			sortBy="creationDate"
			width="150"
			[sortOrder]="'DESC'">
			{{ row?.creationDate | date: 'MMMM y':'':translate.currentLang }}
		</ng-template>

		<!-- user -->
		<ng-template
			[columnApp]="'header.created-by' | translate"
			let-row="row"
			sortBy="createdBy.lastName"
			width="200">
			<div class="flex flexCenter">
				<span class="ellipsis">{{ row?.createdBy?.firstName }} {{row?.createdBy?.lastName}}</span>
			</div>
		</ng-template>

		<!-- download -->
		<ng-template
			[columnApp]="'header.download' | translate"
			let-row="row"
			sortBy="createdBy.lastName"
			[grows]="false"
			width="100">
			<div class="tool-tip" toolTip [toolTipMessage]="getToolTipMsg(row?.status)" toolTipPosition="above-right">
				<icon-app
					[ngClass]="{'disabled': row?.status !== 'ready'}"
					class="download" name="file" (click)="download.emit(row)">
				</icon-app>
			</div>
		</ng-template>

</table-app>