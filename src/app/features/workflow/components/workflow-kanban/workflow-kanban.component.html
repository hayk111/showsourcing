
<ng-container *ngIf="statuses">
	<div class="flex ctnr"
		[ngClass]="{ 'without-sidenav': withoutSidenav }"
		[ngStyle]="{ height: 'calc(100vh - ' + kanbanHeightOffset + 'px)' }">

		<kanban-col-app
		  [ngStyle]="{ height: 'calc(100vh - ' + kanbanColumnHeightOffset + 'px)' }"
			[dropzoneApp]="status"
			[data]="status"
			[disabled]="status.name === '_NoStatus'"
			[checked]="hasAllItemsSelected(selectedItems, status)"
			(itemDropped)="onItemDropped($event)"
			(itemEntered)="onItemEntered(status)"
			(itemLeft)="onItemLeft(status)"
			(checkChange)="onCheckItemsChange(status, $event)"
			[label]="status.name | const:'status':'name'"
			borderColor="{{ status.id }}"
			[namespace]="status"
			*ngFor="let status of statuses; let i = index;trackBy: trackByFn">
				<div class="card-container" *ngFor="let product of status.products; let j = index; trackBy:trackById" [hidden]="draggingProduct && product.id === draggingProduct.id">
					<kanban-item-app
							class="item"
							[namespace]="getCurrentStatus(product)"
							[data]="product"
							[dragDropEnable$]="dragDropEnable$"
							(dragStart)="dragStart(product)"
							(dragEnd)="dragEnd(product)">
						<ng-container
							*ngTemplateOutlet="card; context: { column: column, row: product, checked: isSelected(selectedItems, product.id), status: status, dragInProgress: dragInProgress, selectItem: selectItem, unselectItem: unselectItem, dragDropEnable$: dragDropEnable$ }">
						</ng-container>
					</kanban-item-app>
					<div class="contextual-menu" [ngClass]="{ 'drag-in-progress':	dragInProgress }">
						<ng-container
							*ngTemplateOutlet="contextualMenu; context: { column: column, row: product }">
						</ng-container>
					</div>
				</div>
		</kanban-col-app>

	</div>

</ng-container>
