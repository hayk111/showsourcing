<!-- supplier info card -->
<card-app>
	<!-- owner -->
	<section>
		<h3 class="section-title">Supplier Owner</h3>
		<editable-container-app
			[hasAction]="false"
			(click)="sel?.openMenu($event)">
			<editable-value-app>
				<selector-app
					#sel
					typename="TeamUser"
					[width]="320"
					[offsetX]="4"
					(update)="update.emit({ assignee: $event?.teamuserId })">
					<div *ngIf="supplier?.assignee; else none" class="flex">
						<user-picture-app	class="mg-right-ms" [user]="supplier?.assignee" size="24" fontSize="12" [hasName]="true"></user-picture-app>
					</div>
					<ng-template #none><span class="capitalize" translate="text.none"></span></ng-template>
				</selector-app>
			</editable-value-app>
		</editable-container-app>
	</section>

	<!-- status -->
	<section>
		<h3 class="section-title">Supplier Status</h3>
		<span>
			<status-selector-app
				typename="Supplier"
				[entity]="supplier"
				selectSize="m"
				type="button">
			</status-selector-app>
		</span>
	</section>

	<!-- task list -->
	<section class="action-hover-container-0">
		<div class="section-title flexVAlign">
			<h3>Tasks</h3>
			<div class="mg-left-ms action-hover-item-0 color-primary txt-btn" (click)="addTask.emit()" translate="button.add"></div>
		</div>
		<task-catalog-app
			[tasks]="tasks"
			(taskClicked)="previewTask.emit($event)"
			(viewMore)="goToTasks.emit()">
		</task-catalog-app>
	</section>

	<!-- sample list -->
	<section class="action-hover-container-0">
		<div class="section-title flexVAlign">
			<h3>Samples</h3>
			<div class="mg-left-ms action-hover-item-0 color-primary txt-btn" (click)="addSample.emit()" translate="button.add"></div>
		</div>
		<sample-catalog-app
			[samples]="samples"
			(sampleClicked)="previewSample.emit($event)"
			(showMore)="goToSamples.emit()">
		</sample-catalog-app>
	</section>

	<!-- about -->
	<section>
		<h3 class="section-title">About this supplier</h3>
		<small>Created by {{ supplier.createdBy | formatUserName: true }} on {{ supplier.createdAt | date: 'dd MMMM yyyy' }}</small> <br>
		<small>Last updated by {{ supplier.lastUpdatedBy | formatUserName: true }} on {{ supplier.lastUpdatedAt | date: 'dd MMMM yyyy' }}</small><br>
	</section>
</card-app>
