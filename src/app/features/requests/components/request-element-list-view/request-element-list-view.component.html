
<table-app
	class="secondary-style"
	[rows]="rows"
	[pending]="pending"
	[selected]="selection"
	placeholder="No requests items"
	[contextualMenu]="contextualMenuTemplate"
	(bottomReached)="bottomReached.emit()"
	(selectAll)="selectAll.emit($event)"
	(selectOne)="select.emit($event)"
	(sort)="sort.emit($event)"
	(unselectAll)="unselectAll.emit()"
	(unselectOne)="unselect.emit($event)">

	<!-- contextual menu -->
	<ng-template #contextualMenuTemplate let-row="row">
		<context-menu-item-app
			class="pointer flexCenter">
			Options by design
		</context-menu-item-app>
	</ng-template>

	<ng-template
		columnApp="Product"
		sortBy="name"
		let-row="row"
		width="300">
		<div>{{ row?.name }}</div>
	</ng-template>

	<ng-template
		let-row="row"
		let-index="index"
		width="250"
		[sortable]="false"
		*ngFor="let field of fields[0]; index as i; trackBy: trackByFn"
		[columnApp]="field?.definition?.label">
		<div *ngIf="field?.definition?.type !== 'price'; else isPrice">{{fields[index][i]?.value}}</div>
		<ng-template #isPrice>
			<div *ngIf="prices?.length && prices[index] && prices[index]?.length && prices[index][i]">
				{{ prices[index][i]?.value | ssPrice | currency: prices[index][i]?.currency: 'symbol':'1.2-2' }}</div>
		</ng-template>

	</ng-template>

	<ng-template
		columnApp="Status"
		sortBy="status"
		let-row="row"
		width="300">
		<request-status-badge-app
			[status]="row?.reply?.status"
			[creationDate]="row?.creationDate">
		</request-status-badge-app>
	</ng-template>

</table-app>