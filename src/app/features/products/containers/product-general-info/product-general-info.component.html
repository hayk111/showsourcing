<card-app>
	<!-- product name -->
	<div class="mainTitle shipping flex"
		i18n="div title|Product general information@@productGeneralInfo_general">

		<editable-text-app #edt (saved)="saveName(inpName.value)" (opened)="inpName.focus()">
			<editable-label-app>
				{{ product?.name || 'Unnamed Product' }}
			</editable-label-app>
			<input inputApp type="text" #inpName [value]="product.name"
				(keyup.enter)="saveName(inpName.value); edt.close()">
		</editable-text-app>

		<icons-status-app
			class="flexCenter"
			[product]="product"
			[favorite]="product?.favorite"
			[onlyLike]="true"
			[hasPercent]="false">
		</icons-status-app>
	</div>

	<!-- price -->
	<div class="flex price">

		<div *ngIf="product?.price?.value" class="amount">
			{{ priceAmount | currency: product?.price?.currency:'symbol':'1.2-2'}}
		</div>
		<div *ngIf="product?.price?.value" class="moq flexCenter">
			({{ 'Min ' + product?.minimumOrderQuantity + ' pcs' }}{{ product?.moqDescription ? ' ' + product?.moqDescription : ''}})
		</div>
	</div>

	<!-- description -->
	<div class="description">
		<div class="description-title">Description</div>
		<editable-text-app (saved)="saveDescription(txt.value)">
			<editable-label-app *ngIf="product?.description; else noDesc">
				{{ product.description }}
			</editable-label-app>
			<ng-template #noDesc>
				<editable-label-app class="noDesc"
					i18n="label|Product with no description@@productDescription_noDescription">
					No description yet
				</editable-label-app>
			</ng-template>
			<textarea inputApp class="fullWidth" #txt [value]="product?.description || ''"></textarea>
		</editable-text-app>
	</div>

	<!-- dynamic forms -->
	<div class="title-information">Product Information</div>

	<ng-container *ngIf="descriptor$ | async as descriptor">
		<dynamic-form-app
			[inlineLabel]="false"
			(formCreated)="onFormCreated($event)"
			[descriptor]="descriptor"
			[colAmount]="2">
		</dynamic-form-app>
	</ng-container>

</card-app>

<card-app>
	<div class="title flex">
		<div class="space-icon flexAround">
			<icon-app fontSet="svg" name="poll-light-blue" ></icon-app>
		</div>
		<h2 i18n="div title|Product shipping and tranding information@@productGeneralInfo_shippingTrading" class="flex">
			Shipping & Trading
		</h2>
	</div>

	<ng-container *ngIf="descriptor2$ | async as descriptor">
		<dynamic-form-app (formCreated)="onFormCreated($event)"
			[inlineLabel]="true"
			[descriptor]="descriptor"
			[colAmount]="2"></dynamic-form-app>
	</ng-container>
</card-app>
