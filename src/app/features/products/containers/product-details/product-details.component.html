<product-top-panel-app
	[product]="product$ | async"
	(deleteProduct)="deleteProduct()">
</product-top-panel-app>

<ng-container *ngIf="product$ | async as product">

  <div class="flex content">
    <div class="left">

			<product-carousel-app
				[product]="product"
				[images]="product?.images"
				[favorite]="product.favorite"
				(productFavorite)="onFavorited()"
				(productUnfavorite)="onUnfavorited()"
				(requestFeedback)="openRequestFeedbackDialog()"
				(openAddProject)="openAddProjectDlg()"
				(export)="export()"
				(imgUploaded)="onNewImages($event)"
				(imageDeleted)="onImageDeleted($event)">
			</product-carousel-app>

			<!-- team rating here -->
			<product-team-rating-app
				[product]="product"
				(requestTeamVotes)="openRequestFeedbackDialog()"
				(vote)="updateProduct($event)"
				(openVoteDetails)="openVoteDetailsDialog()">
			</product-team-rating-app>

			<supplier-card-app [supplier]="product?.supplier"></supplier-card-app>

			<project-card-app
				(removeProject)="removeProject($event)"
				(addProjectClick)="openAddProjectDlg()"
				[projects]="product.projects"></project-card-app>

			<files-card-app
				[files]="product.attachments"
				(fileAdded)="onFileAdded($event)"
				(fileRemove)="onFileRemoved($event)"></files-card-app>

		</div>

    <div class="right">
			<product-navigation-app></product-navigation-app>
      <router-outlet></router-outlet>
    </div>

  </div>

</ng-container>

