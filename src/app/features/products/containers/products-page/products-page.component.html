<entity-page-app
	[filterGroupName]="filterGroupName"
	[pending]="pending$ | async"
	[repr]="repr"
	(viewChange)="onViewChange($event)">
		<!-- views: either one will be displayed when the correct view is selected -->
		<product-list-view-app
			*ngIf="view === 'list'"
			class="list-view"
			[selections]="selections"
			[products]="products$ | async"
			(productSelect)="onItemSelected($event)"
			(productUnselect)="onItemUnselected($event)"
			(productOpen)="onItemOpened($event)"
			(productFavorited)="onItemFavorited($event)"
			(productUnfavorited)="onItemUnfavorited($event)"></product-list-view-app>
		<product-card-view-app
			class="card-view"
			*ngIf="view === 'card'"
			[products]="products$ | async"
			[selections]="selections"
			(productSelect)="onItemSelected($event)"
			(productUnselect)="onItemUnselected($event)"
			(productVote)="onItemVoted($event)"
			(productFavorited)="onItemFavorited($event)"
			(productUnfavorited)="onItemUnfavorited($event)"
			(productOpen)="onItemOpened($event)"></product-card-view-app>

</entity-page-app>

<selection-bar-app
	[repr]="repr"
	*ngIf="selections.size > 0"
	[selections]="selections"
	(close)="unselectAll()">
	<selection-actions></selection-actions>
</selection-bar-app>

<product-side-preview-app
	(clickOutside)="closeDialog()"
	*ngIf="previewDialogOpen">
</product-side-preview-app>

