<header-details-app [headerType]="'details'">

	<header-details-title-app class="mg-top-xxs">
		<!-- <editable-text-app #edt (closed)="updateProductProp($event, inpName.value, 'name')" (opened)="inpName.select()">
			<editable-label-app>
				{{ product?.name || ('message.unnamed-product' | translate) }}
			</editable-label-app>
			<input inputApp type="text" #inpName [value]="product.name" (keyup.enter)="edt.close()">
		</editable-text-app> -->
		{{ product?.name || ('message.unnamed-product' | translate) }}
	</header-details-title-app>


	<logo-app [logo]="product?.images[0]" size="xl" type="product"></logo-app>

	<header-details-info-app>
		<div class="flex flexVAlign mg-bottom-xxs">
			<logo-app type="product" name="product" size="xs"></logo-app>
			<div class="flex flexVAlign info-container dot-separator">
				<span *ngIf="product?.reference" class="reference">
					{{ product?.reference }}
				</span>
				<span *ngIf="product && product.price && product.price.value !== null" class="price">
					{{ product?.price | appPrice }}
				</span>
				<span *ngIf="product?.category" class="category">
					{{ product?.category?.name }}
				</span>
				<span *ngIf="product?.supplier" class="hyphen-separator">
					{{ product?.supplier?.name }}
				</span>
				<activities-bar-app *ngIf="product?.votes?.length > 0" [votes]="product?.votes">
				</activities-bar-app>
			</div>
		</div>
	</header-details-info-app>

	<header-nav-app>
		<header-nav-item-app link="./activity" icon="activity" [name]="'nav.activity' | translate"></header-nav-item-app>

		<header-nav-item-app link="./info" icon="product" [name]="'nav.product-details' | translate"></header-nav-item-app>

		<header-nav-item-app link="./files" icon="files" [name]="'nav.files' | translate"></header-nav-item-app>

		<header-nav-item-app link="./samples" icon="sample" [name]="'nav.samples' | translate" [hasBadge]="hasBadge('samples')"></header-nav-item-app>

		<header-nav-item-app link="./tasks" icon="check-circle" [name]="'nav.tasks' | translate" [hasBadge]="hasBadge('tasks')"></header-nav-item-app>

		<header-nav-item-app link="./requests" icon="envelope" [name]="'nav.requests' | translate" [hasBadge]="hasBadge('requests')"></header-nav-item-app>
	</header-nav-app>

	<header-details-actions-app>

		<!--
		<header-list-action-buttons-app
			[data]="product"
			[user]="product?.assignee"
			(export)="export.emit($event)"
			(favorited)="onFavorited()"
			(unfavorited)="onUnfavorited()"
			(delete)="delete.emit(product)"
			(changeUser)="onUserChanged($event)">
		</header-list-action-buttons-app>
		-->

		<status-selector-app [typeEntity]="productEntity" [entity]="product" selectSize="m" type="button">
		</status-selector-app>

		<context-menu-app class="mg-left-ms">

			<context-menu-trigger-app>
				<button class="icon light dots pointer">
					<icon-app [size]="16" name="dots-vertical"></icon-app>
				</button>
			</context-menu-trigger-app>

			<context-menu-item-app (click)="supplierRequest.emit(product)" translate="button.supplier-request">
			</context-menu-item-app>

			<context-menu-item-app (click)="archive.emit(product)" translate="button.archive">
			</context-menu-item-app>

			<context-menu-item-warn-app (click)="delete.emit(product)" translate="button.delete">
			</context-menu-item-warn-app>

		</context-menu-app>

	</header-details-actions-app>

</header-details-app>