<div class="card-container" [class.selectedCard]="selected" (mouseenter)="setShowOptionsBar(true)" (mouseleave)="setShowOptionsBar(false)">
	<div class="card-content flexColumn">
		<img-app
			class="noselect"
			size="m"
			[image]="product"
			objectFit="fill"></img-app>

		<div class="imgNumber flex flexCenter">
			<span>{{product?.images?.length || '-'}}</span>
			<div class="icon-img"></div>
		</div>

		<div class="imgPrice flex flexCenter">
			<span>{{product?.price?.value | currency: product?.price?.currency:'symbol':'1.2-2'}}</span>
		</div>

		<status-badge-app
			[status]="product?.statuses[0]?.status" [typeEntity]="prodERM">
		</status-badge-app>

		<checkbox-app
			*ngIf="selected || showOptionsBar"
			[size]="20"
			[checked]="selected"
			(check)="productSelect.emit()"
			(uncheck)="productUnselect.emit()">
		</checkbox-app>

		<div class="information">
			<div class="text-bar">
				<p class="bold-s">{{product?.name}}</p>
				<p class="fs-s">{{product?.supplier?.name}}</p>
			</div>
			<icons-status-app
				[product]="product"
				[favorite]="favorite">
			</icons-status-app>
		</div>

		<action-bar-app
			buttonName="Open"
			[isVisible]="showOptionsBar"
			[votes]="product.votes"
			[favorite]="favorite"
			(onFavorite)="productFavorite.emit()"
			(onUnfavorite)="productUnfavorite.emit()"
			(vote)="updateProduct({ votes: $event })"
			buttonName="Open"
			(buttonClick)="onViewProduct()">

			<button class="icon light folder" (click)="openAddToProject()">
				<icon-app fontSet="svg" name="folder" size="m" ></icon-app>
			</button>
			<button class="icon light dots">
				<icon-app fontSet="svg" name="3-dots-vertical" size="m"></icon-app>
			</button>

		</action-bar-app>

	</div>
</div>