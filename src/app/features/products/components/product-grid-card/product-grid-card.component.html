<div class="card-container" [class.selectedCard]="selected" (mouseenter)="setShowOptionsBar(true)" (mouseleave)="setShowOptionsBar(false)">
	<div class="card-content flexColumn">
		<img class="noselect" [src]="product | image:'m'" alt="rekt">

		<div class="information">
			<div class="text-bar">
				<p class="bold-s">{{product.name}}</p>
				<p class="fs-s">{{product.supplier.name}}</p>
			</div>
			<div class="flex noselect small-icons">
				<rating-heart-app
					[favorite]="favorite"
					(favorited)="productFavorite.emit()"
					(unfavorited)="productUnfavorite.emit()">
				</rating-heart-app>
				<div class="flex">
					<thumb-buttons-app
						size="xs"
						[reverse]="true"
						[votes]="product.votes"
						(vote)="updateProduct({ votes: $event })"
						(colorOut)="colorOut = $event">
					</thumb-buttons-app>
					<p class="color-{{colorOut}} numbers">{{product?.score || '-'}}%</p>
				</div>
				<div class="flex" *ngIf="!showOptionsBar">
					<icon-app fontSet="svg" name="folder"></icon-app>
					<p class="numbers">{{product?.projects?.length || 0}}</p>
				</div>
			</div>
		</div>

		<action-bar-app
			buttonName="Open"
			[isVisible]="showOptionsBar"
			[votes]="product.votes"
			[favorite]="favorite"
			(onFavorite)="productFavorite.emit()"
			(onUnfavorite)="productUnfavorite.emit()"
			(vote)="updateProduct({ votes: $event })"
			(addToProject)="openAddToProject()"
			(buttonClick)="onViewProduct()">
		</action-bar-app>

	</div>
</div>