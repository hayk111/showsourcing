
<!-- contextual menu -->
<ng-template #contextualMenuTemplate let-row="row">
	<context-menu-item-app
		class="pointer flexCenter"
		(click)="delete.emit(row)"
		i18n="button@@delete">
		delete
	</context-menu-item-app>
</ng-template>

<table-app
	[rows]="rows"
	[pending]="pending"
	[selected]="selection"
	[contextualMenu]="contextualMenuTemplate"
	[count]="count"
	[skipped]="skipped"
	placeholder="No project"
	(next)="next.emit()"
	(previous)="previous.emit()"
	(goToPage)="goToPage.emit($event)"
	(selectOne)="select.emit($event)"
	(unselectOne)="unselect.emit($event)"
	(selectAll)="selectAll.emit($event)"
	(unselectAll)="unselectAll.emit($event)"
	(bottomReached)="bottomReached.emit()"
	(sort)="sort.emit($event)"
	i18n-placeholder="@@no-project">



	<!-- name -->
	<ng-template
		[columnApp]="'Project name' | const: 'messages'"
		sortBy="name"
		let-row="row"
		width="300"
		sortBy="name">
		<div class="project">
			<a class="flexVAlign txt-btn capitalize ellipsis"
				[routerLink]="['/project', row.id]">
				<img [src]="row.logoImage | logo:'project'" class="icon"/>
				{{ row?.name }}
			</a>
		</div>
	</ng-template>

	<!-- owner -->
	<ng-template
		class="capitalize"
		[columnApp]="'owner' | const: 'messages'"
		let-row="row"
		sortBy="createdBy.lastName"
		width="200"
		[grows]="false">
		{{ row?.createdBy?.firstName }} {{ row?.createdBy?.lastName }}
	</ng-template>

	<!-- last updated date -->
	<ng-template
		class="capitalize"
		[columnApp]="'Last upadted date' | const: 'messages'"
		let-row="row"
		sortBy="lastUpdatedDate"
		width="200"
		[grows]="false">
		<span>
			{{ row?.lastUpdatedDate | date: 'dd MMMM y' }}
		</span>
	</ng-template>

	<!-- product count -->
	<ng-template
		class="capitalize"
		[columnApp]="'Product count' | const: 'messages'"
		let-row="row"
		[sortable]="false"
		[grows]="false"
		width="200">
		<span>
			<b>{{ row?.productsLinked?.count }}</b>
		</span>
	</ng-template>

	<!-- date -->
	<ng-template
		[columnApp]="'created on' | const: 'messages'"
		let-row="row"
		sortBy="creationDate"
		width="200"
		[grows]="false"
		[sortOrder]="'DESC'">
		{{ row?.creationDate | date: 'dd MMMM y' }}
	</ng-template>

	<!-- description -->
	<ng-template
		[columnApp]="'description' | const: 'messages'"
		let-row="row"
		[sortable]="false"
		width="240">
		<div class="description">
			{{ row?.description }}
		</div>
	</ng-template>


</table-app>

