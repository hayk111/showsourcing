<card-app class="mg-v-ms">
	<card-title-app>Utility directive</card-title-app>
	
	<b>There is two useful directives that can be used when working with files</b>
	
	<ul>
		<li>fileSelected: when a file was selected on an input</li>
		<li>fileDroped: when a file was dropped on an element</li>
	</ul>

</card-app>

<card-app class="mg-v-ms">
	<card-title-app>Uploader Service</card-title-app>

	<ng-container *ngIf="!uploading; else spinner">
		<input [(ngModel)]="nodeId" class="mg-bottom-l"/>
		<button (click)="inp.click()" class="mg-h-m">Pick file</button>
		<button (click)="inpImg.click()">Pick Image</button>
		<input #inp multiple type="file" (fileSelect)="onFileSelect($event)">
		<input #inpImg multiple type="file" (fileSelect)="onImageSelect($event)">
	</ng-container>

	<ng-template #spinner>
		<spinner-app></spinner-app>
		<ng-container *ngFor="let pendingImg of pendingImgs">
			<img [src]="pendingImg.data$ | async"/>
		</ng-container>
		<div *ngFor="let pendingFile of pendingFiles">
			{{ pendingFile.fileName }}
		</div>

	</ng-template>
</card-app>
