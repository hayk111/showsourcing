<div class="products-section flexWrap products-section-{{index}}">
	<div *ngFor="let product of products; index as i; trackBy: trackByFn"
		class="item">
		<product-card-app class="element-item marginSmall"
			[checked]="isSelected(product)"
			[product]="product"
			[highlightOnChecked]="true"
			[selectFromCard]="true"
			[enabledHoverContent]="true"
			[enablePreviewLink]="true"
			(clickImage)="previewClick.emit(product)"
			(select)="select.emit(product)"
			(unselect)="unselect.emit(product)"
			(cardLeave)="closeContextualMenuIfOpened(archiveMenu, workActionMenu)">
			<div class="flexColumn card-hover-block">
				<div class="secondary flexBetween sort-1 button-action button-archive">
					<span class="button-label" (click)="archive.emit(product)">Archive</span>
					<div class="button-icon">
						<context-menu-app xPosition="-175" yPosition="25" #archiveMenu>
							<context-menu-trigger-app>
								<icon-app fontSet="fa" name="caret-down"></icon-app>
							</context-menu-trigger-app>
							<context-menu-item-app (click)="archive.emit(product)" class="menu-item">
								Archive Product
							</context-menu-item-app>
							<context-menu-item-app (click)="delete.emit(product)" class="menu-item">
								Delete Product
							</context-menu-item-app>
						</context-menu-app>
					</div>
				</div>

				<div class="secondary flexBetween sort-1 button-action button-workflow">
					<!-- <span (click)="sentToWorkflow.emit(product)">Send to {{ firstStatus?.name | const: 'status'  }}</span> -->
					<div class="send-workflow" (click)="sendToWorkflowFunc($event, product)">Send to {{ firstStatus?.name | const: 'status'  }}</div>
					<div class="button-icon">
						<workflow-action-app
							#workActionMenu
							[entity]="product"
							selectSize="s"
							[xPosition]="-170"
							[yPosition]="24"
							[typeEntity]="prodERM"
							[isSendToWorkFlow]="true"
							[internalUpdate]="false"
							(statusUpdated)="onStatusUpdated(product, $event)">
						</workflow-action-app>
					</div>
				</div>
			</div>
		</product-card-app>
	</div>
</div>
