<div class="card-container">
  <div *ngFor="let category of getGroupedProducts(currentSort); first as first; index as i; trackBy: trackByFn" class="category-section">
    <div class="category-header" *ngIf="getGroupedValue(category, currentSort) as value">
      <h2>{{ value || 'Unnamed' }}</h2>
      <h3></h3>
    </div>
    <div class="products-section">
      <div *ngFor="let product of category.value; index as i; trackBy: trackByFn"
      class="item">
        <kanban-item-card-app class="marginSmall" [title]="product.name"
          [status]="product.status?.name"
          [checked]="isSelected(product)"
          [favorite]="product.favorite"
          [tags]="product.tags"
          [price]="product.price"
          [minimumOrderQuantity]="product.minimumOrderQuantity"
          [category]="'category'"
          [description]="product.description ? product.description : 'No description'"
          [image]="product.images?.length > 0 ? (product | image:'m') : null"
          [person]="product.createdBy"
          [link]="'/product/details/' + product.id + '/general'"
          [product]="product"
          [highlightOnChecked]="true"
          [selectFromCard]="true"
          (select)="select.emit(product, false)"
          (unselect)="unselect.emit(product, false)">
        </kanban-item-card-app>
      </div>
    </div>
  </div>
</div>
