<sub-panel-app
  [hasSwitch]="false"
  [hasFilter]="false"
  [buttonIcon]="false"
  (search)="search($event)">

  <products-review-sorting-menu-app
    [currentSort]="currentSort"
    (sortFromMenu)="sortFromMenu($event)">
  </products-review-sorting-menu-app>
</sub-panel-app>

<products-review-grid-view-app
  class="card-view"
  [rows]="dataSrv.items$ | async"
  [pending]="dataSrv.pending"
  [currentSort]="dataSrv.currentSort"
  [selection]="selectionSrv.selection$ | async"
  (previewClick)="viewSrv.openPreview($event)"
  (update)="dataSrv.update($event)"
  (select)="selectionSrv.selectOne($event, true)"
  (unselect)="selectionSrv.unselectOne($event, true)"
  (favorited)="dataSrv.onItemFavorited($event)"
  (unfavorited)="dataSrv.onItemUnfavorited($event)"
  (sendToWorkflow)="onSentToWorkflow($event)"
  (delete)="deleteUnselectOne($event)"
  (archive)="onArchive($event)"
  (statusUpdated)="onStatusUpdated($event)"
  (open)="viewSrv.goToDetails($event)">
</products-review-grid-view-app>

<selection-bar-app
  [isShown]="(selectionSrv.selection$ | async).size > 0"
  [selection]="selectionSrv.selection$ | async"
  [hasDelete]="false"
  (close)="selectionSrv.unselectAll()"
  (delete)="dataSrv.deleteSelected()">

  <action-bar-app
    [favorite]="selectionSrv.allSelectedFavorite"
		[multiple]="true"
		(onFavorite)="dataSrv.onFavoriteAllSelected()"
		(onUnfavorite)="dataSrv.onUnfavoriteAllSelected()"
		(liked)="dataSrv.onMultipleThumbUp($event)"
		(disliked)="dataSrv.onMultipleThumbDown($event)">

    <button class="icon light" (click)="openAddToProjectDialog()">
      <icon-app name="folder-light" fontSet="svg"></icon-app>
    </button>
    <context-menu-app>
      <context-menu-trigger-app>
        <button class="icon light">
          <icon-app name="dots-vertical"></icon-app>
        </button>
      </context-menu-trigger-app>
      <context-menu-item-app (click)="openExportDialog()">
        Export
      </context-menu-item-app>
      <context-menu-item-app (click)="openRequestFeedbackDialog()">
        Request For Team Feedback
      </context-menu-item-app>
    </context-menu-app>

    <button class="icon light" (click)="dataSrv.deleteSelected()">
      <icon-app name="trash-bin"></icon-app>
    </button>
  </action-bar-app>
</selection-bar-app>

<product-preview-app
  *ngIf="viewSrv.previewOpen"
  [product]="viewSrv.previewed"
  (close)="viewSrv.closePreview()"
  (clickOutside)="viewSrv.closePreview()">
</product-preview-app>

