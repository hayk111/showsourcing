
<ng-container *ngIf="columns">
	<div class="flex ctnr"
		[ngClass]="{ 'without-sidenav': withoutSidenav }"
		[ngStyle]="{ height: 'calc(100vh - ' + kanbanHeightOffset + 'px)' }">

		<kanban-col2-app
		  [ngStyle]="{ height: 'calc(100vh - ' + kanbanColumnHeightOffset + 'px)' }"
			[dropzoneApp]="column"
			[data]="column"
			[disabled]="column.name === '_NoStatus'"
			[checked]="hasAllItemsSelected(selectedItems, column)"
			(itemDropped)="onItemDropped($event)"
			(itemEntered)="onItemEntered(column)"
			(itemLeft)="onItemLeft(column)"
			(checkChange)="onCheckItemsChange(column, $event)"
			[label]="column.name | const:'status':'name'"
			borderColor="{{ column.id }}"
			[namespace]="column"
			*ngFor="let column of columns; let i = index;trackBy: trackById">
				<div class="card-container" *ngFor="let item of column.items; let j = index; trackBy:trackById">
					<kanban-item2-app
							class="item"
							[namespace]="getCurrentColumn(item)"
							[data]="item"
							[dragDropEnable$]="dragDropEnable$"
							(dragStart)="dragStart(item)"
							(dragEnd)="dragEnd(item)">
						<ng-container
							*ngTemplateOutlet="card; context: { column: column, row: item, checked: isSelected(selectedItems, item.id), column: column, dragInProgress: dragInProgress, selectItem: selectItem, unselectItem: unselectItem, dragDropEnable$: dragDropEnable$ }">
						</ng-container>
					</kanban-item2-app>
					<div class="contextual-menu" [ngClass]="{ 'drag-in-progress':	dragInProgress }">
						<ng-container
							*ngTemplateOutlet="contextualMenu; context: { column: column, row: item }">
						</ng-container>
					</div>
				</div>
		</kanban-col2-app>

	</div>

</ng-container>
