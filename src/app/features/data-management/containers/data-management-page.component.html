<top-panel-app
	[title]="'ShowSourcing'"
	[subtitles]="['Settings', 'Data Cleansing']"
	[hasAction]="false">
</top-panel-app>

<sub-panel-app
	[title]="entityMetadata.plural"
	buttonName="New {{entityMetadata.singular}}"
	[hasFilter]="false"
	[hasSwitch]="false"
	[buttonIcon]="false"
	(search)="dataSrv.search($event)"
	(buttonClick)="openCreateDlg()">
	<div class="flex" *ngIf="(selectionSrv.selection$).size > 0">
		<button class="button warn" (click)="dataSrv.deleteSelected()"> Delete Selected </button>
		<span class="marginSmall"></span>
		<button (click)="mergeSelected()"> Merge Selected </button>
	</div>
</sub-panel-app>

<data-management-table-app
	[rows]="dataSrv.items$ | async"
	[selection]="selectionSrv.selection$ | async"
	[pending]="dataSrv.pending"
	[entityMetadata]="entityMetadata"
	(bottomReached)="dataSrv.loadMore()"
	(sort)="dataSrv.sort($event)"
	(delete)="dataSrv.deleteOne($event)"
	(select)="selectionSrv.selectOne($event, false)"
	(unselect)="selectionSrv.unselectOne($event, false)"
	(selectAll)="selectionSrv.selectAll($event, false)"
	(unselectAll)="selectionSrv.unselectAll()"
	(renameEntity)="dataSrv.update($event)"
	(removeEntity)="dataSrv.deleteOne($event)">
</data-management-table-app>
