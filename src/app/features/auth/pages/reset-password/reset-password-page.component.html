<div *ngIf="!(pending); else spinner">

	<h1 translate="header.password-reset"></h1>
	<h3 translate="text.please-enter-pwd"></h3>

	<form [formGroup]="form" (submit)="onSubmit()">
		<form-field-app>
			<label-app translate="text.new-pwd"></label-app>
			<input [class.warn-border]="form.get('newPswd').touched  && form.hasError('nomatch')" minlength="8" inputApp
				type="password" formControlName="newPswd" [placeholder]="'placeholder.intro-new-pwd' | translate"
				autocomplete="new-password" />
			<error-app *ngIf="form.get('newPswd').hasError('minlength')" translate="error.min-characters-required">
			</error-app>
		</form-field-app>
		<form-field-app>
			<label-app translate="text.confirm-new-pwd"></label-app>
			<input [class.warn-border]="form.get('confirmPswd').touched && form.hasError('nomatch')" minlength="8" inputApp
				type="password" formControlName="confirmPswd" [placeholder]="'placeholder.confirm-new-pwd' | translate"
				autocomplete="new-password" />
			<p class="color-warn fs-s italic"
				*ngIf="form.get('newPswd').touched && form.get('confirmPswd').touched && form.hasError('nomatch')"
				translate="text.new-pwd-must-match"></p>
		</form-field-app>

		<input [disabled]="!form.valid" type="submit" value="Change" class="fullWidth" />
	</form>

</div>

<ng-template #spinner>
	<spinner-app></spinner-app>
</ng-template>
