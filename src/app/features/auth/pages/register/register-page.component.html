<auth-header-app></auth-header-app>

<form 
	*ngIf="!(pending$ | async); else spinner"
	[formGroup]="form" 
	(ngSubmit)="createAccount()" 
	class="flexColumn">

	<h3 class="mg-bottom-l" translate="text.please-fill-in-this-form-to-register"></h3>

	<error-app *ngIf="error.code" [translate]="'error.' + error.code"></error-app>

	<form-field-app>
		<label-app translate="text.first-name"></label-app>
		<input 
			inputApp
			type="text" 
			autocomplete="given-name"
			formControlName="firstName"
			[placeholder]="'placeholder.your-first-name' | translate" 
			autofocus/>
	</form-field-app>

	<form-field-app>
		<label-app translate="text.last-name"></label-app>
		<input 
			inputApp
			type="text" 
			autocomplete="family-name"
			formControlName="lastName"
			[placeholder]="'placeholder.your-last-name' | translate"/>
	</form-field-app>

	<form-field-app>
		<label-app translate="text.email"></label-app>
		<input 
			inputApp
			type="email" 
			autocomplete="current-email"
			formControlName="email"
			placeholder="example@showsourcing.com"/>
			<hint-app translate="hint.company-tip"></hint-app>
	</form-field-app>

	<form-field-app>
		<label-app translate="text.password"></label-app>
		<input 
			inputApp
			type="password" 
			formControlName="password"
			[placeholder]="'placeholder.your-password' | translate"/>
	</form-field-app>

	<button 
		class="big mg-v-ms" 
		type="submit" 
		[disabled]="!form.valid" 
		(click)="createAccount()" 
		translate="button.sign-up">
	</button>
	<button class="big light" translate="button.account-already-existed"></button>
</form>

<ng-template #spinner>
	<h3 translate="text.please-hold-modif-internet"></h3>
	<spinner-app></spinner-app>
</ng-template>
