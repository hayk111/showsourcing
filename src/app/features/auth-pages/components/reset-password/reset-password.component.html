<div *ngIf="!(pending); else spinner">

	<h1 i18n="header@@password-reset">Password Reset</h1>
	<h3 i18n="text@@please-enter-pw">Please enter your new password</h3>

	<form [formGroup]="form" (submit)="onSubmit()">
		<form-field-app>
			<label-app i18n="text@@new-pw"> New Password</label-app>
			<input [class.warn-border]="form.get('newPswd').touched  && form.hasError('nomatch')"
				minlength="8"	inputApp type="password" formControlName="newPswd" placeholder="Introduce the new password"
				autocomplete="new-password"/>
			<error-app *ngIf="form.get('newPswd').hasError('minlength')">Minimum 8 characters required</error-app>
		</form-field-app>
		<form-field-app>
			<label-app i18n="text@@confirm-new-pw"> Confirm New Password </label-app>
			<input [class.warn-border]="form.get('confirmPswd').touched && form.hasError('nomatch')"
				minlength="8"	inputApp type="password" formControlName="confirmPswd" placeholder="Confirm the new password"
				autocomplete="new-password"/>
				<p class="color-warn fs-s italic" 
					i18n="text@@pw-must-match"
					*ngIf="form.get('newPswd').touched && form.get('confirmPswd').touched && form.hasError('nomatch')">
					New password must match
				</p>
		</form-field-app>

		<input [disabled]="!form.valid" type="submit" value="Change" class="fullWidth"/>
	</form>

</div>

<ng-template #spinner>
	<spinner-app></spinner-app>
</ng-template>


