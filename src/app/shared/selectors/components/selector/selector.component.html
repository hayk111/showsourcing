<div class="{{ canCreate ? 'canCreate' : '' }}">
	<ng-select #ngSelect
		class="custom"
		[(ngModel)]="value"
		[compareWith]="compareWith"
		(open)="onOpen()"
		(add)="onSelect($event)"
		(remove)="onUnselect($event)"
		(change)="onChange($event)"
		[virtualScroll]="true"
		[items]="filteredChoices"
		[bindValue]="bindValue"
		[bindLabel]="bindLabel"
		[multiple]="multiple"
		[notFoundText]="itemName + ' not found'">

		<!-- header / search input -->
		<ng-template ng-header-tmp *ngIf="canSearch">
			<div class="selectCustomInput">
				<input #searchInp inputApp autofocus="true" type="text" [(ngModel)]="searchValue" (input)="filter()" (change)="$event.stopPropagation()" />
			</div>
		</ng-template>

		<ng-template ng-option-tmp let-item="item" let-index="index">
			<ng-container *ngTemplateOutlet="template; context: { item: item }"></ng-container>
		</ng-template>

		<ng-template ng-footer-tmp *ngIf="(canCreate && searchValue)">
			<div class="createBlock pointer" (click)="onCreate()" *ngIf="filteredChoices.length === 0">
					Create {{ itemName }}
			</div>
		</ng-template>

	</ng-select>
</div>

