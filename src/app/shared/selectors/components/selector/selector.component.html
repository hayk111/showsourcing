<!-- the trigger -->
<div
	#trigger="cdkOverlayOrigin"
	cdkOverlayOrigin
	class="full-width ellipsis pointer"
	(click)="openMenu($event)">
	<ng-content></ng-content>
</div>

<cdk-overlay-app
	*ngIf="menuOpen && hasPicker"
	[trigger]="trigger"
	[isOpen]="menuOpen"
	[offsetX]="offsetX"
	[leftSideOrientation]="leftSideOrientation"
	[closeOnScroll]="true"
	(clickOutside)="closeMenu(true)">
	<selector-picker-app
		class="z-2"
		[ngStyle]="{ width: width + 'px', position: 'absolute', top: menuPosition.posY, left: menuPosition.posX }"
		[searchTxt]="searchTxt"
		[value]="value"
		[typename]="typename"
		[customType]="customType"
		[multiple]="multiple"
		[filterList]="filterList"
		[canCreate]="canCreate"
		[definitionReference]="definitionReference"
		(update)="onChange($event)"
		(close)="closeMenu(true)"
		cdkTrapFocus>
	</selector-picker-app>
</cdk-overlay-app>
