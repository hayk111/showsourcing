<!-- the trigger -->
<div
	#trigger="cdkOverlayOrigin"
	cdkOverlayOrigin
	class="full-width ellipsis"
	(click)="openMenu()">
	<ng-content></ng-content>
</div>

<cdk-overlay-app
	*ngIf="menuOpen && hasPicker"
	[trigger]="trigger"
	[isOpen]="menuOpen"
	[offsetY]="offsetY"
	[offsetX]="offsetX"
	[leftSideOrientation]="leftSideOrientation"
	[closeOnScroll]="true"
	(clickOutside)="closeMenu(true)">

	<div class="flexColumn" [ngStyle]="{ width: width + 'px'}">
		<ng-container [ngSwitch]="type">

			<!-- category -->
			<category-selector-app
				*ngSwitchCase="erm.CATEGORY"
				[value]="value"
				[filterList]="filterList"
				[initialSeachTxt]="searchTxt"
				[multiple]="multiple"
				[canCreate]="canCreate"
				(update)="onChange($event)"
				(close)="closeMenu(true)"
				cdkTrapFocus>
			</category-selector-app>

			<!-- event -->
			<event-selector-app
				*ngSwitchCase="erm.EVENT"
				[value]="value"
				[filterList]="filterList"
				[initialSeachTxt]="searchTxt"
				[multiple]="multiple"
				[canCreate]="canCreate"
				(update)="onChange($event)"
				(close)="closeMenu(true)"
				cdkTrapFocus>
			</event-selector-app>
		</ng-container>
	</div>

</cdk-overlay-app>
