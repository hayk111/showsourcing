<h3 *ngIf="title" class="ms"> {{ title }} </h3>

<div class="flex">

	<div class="search-container flex">
		<ng-content select="search-autocomplete-app"></ng-content>
		
		<search-bar-app
			*ngIf="hasSearch"
			[formControl]="searchControl"
			[inputFocus]="inputFocus"
			searchType="short"
			[placeHolder]="'placeholder.type-to-search' | translate"
			(focus)="onFocusSearch($event)"
			(search)="search.emit($event)"
			(keydown.enter)="triggerSmartSearch($event)">
		</search-bar-app>

		<button *ngIf="hasFilter && !filtersPanelOpened" class="bold-s pointer capitalize filter-button" 
			(click)="showFilters.emit()" translate="button.show-filters"></button>
		<button *ngIf="hasFilter && !filtersPanelOpened" class="bold-s pointer capitalize clear-filter-button" 
			(click)="clearFilters.emit()" translate="button.clear-filters"><span *ngIf="filtersAmount">({{filtersAmount}})</span>
		</button>
		<div class="divider"></div>

		<span *ngIf="hasFilter && !filtersPanelOpened" class="bold-s capitalize products-count" translate="label.products">
			{{count}} {{entityType}}
		</span>
		<!-- TODO check text of this btn is hide filter or show filter -->
		<button *ngIf="filtersPanelOpened" class="bold-s pointer secondary capitalize"
			(click)="hideFilters.emit()" translate="button.hide-filters">
		</button>

		<button
			*ngIf="buttonName"
			class="create first-uppercase"
			(click)="buttonClick.emit()">
			<span class="first-uppercase">{{ buttonName }}</span>
		</button>
	</div>

	<div class="right-container flex">
		<div class="show-archived-container" *ngIf="hasArchived">
			<label class="pointer">
				<input class="show-archived pointer" type="checkbox" id="show-archived" 
					[(ngModel)]="isArchivedShown" (change)="archiveChange($event)" translate="label.show-archived" />
				<label for="show-archived"></label>
			</label>
		</div>

		<div class="assigned-to-me-container" *ngIf="hasAssigned">
			<label class="pointer">
				<input class="assigned-to-me pointer" type="checkbox" id="assigned-to-me" 
					[(ngModel)]="isAssigned" (change)="assignedChange($event)" translate="label.assiged-to-me" />
				<label for="assigned-to-me"></label>
			</label>
		</div>

		<button *ngIf="hasFilter && !filtersPanelOpened && hasExport" class="flexCenter bold-s pointer capitalize export-button" 
			(click)="export.emit()" translate="button.export">
			<icon-app name="close-pane-bottom" size="m"></icon-app>
		</button>

		<view-switcher-app
			*ngIf="hasSwitch"
			[switchContent]="switchContent"
			[view]="view"
			(viewChange)="viewChange.emit($event)">
		</view-switcher-app>
	</div>

</div>
