<card-app>

	<!-- user -->
	<activity-user-app
		[user]="product.createdBy"
		[time]="product.creationDate"
		action="created a new product"></activity-user-app>

	<!-- preview  -->
	<div class="previewCtnr flex flexGrow" (click)="onViewProduct()" *ngIf="product.images as images">
		<ng-container *ngIf="images[0]">
			<img-app size="xl" class="img1" [ngClass]="{ 'big' : !hasThreeImages() }" [image]="images[0]"></img-app>
		</ng-container>

		<div *ngIf="hasThreeImages()" class="flexColumn flexBetween">
			<ng-container *ngIf="images[1]">
				<img-app class="img2" [image]="images[1]"></img-app>
			</ng-container>

			<ng-container *ngIf="images[2]">
				<img-app class="img3" [image]="images[2]"></img-app>
			</ng-container>
		</div>

	</div>

	<div class="flexColumn prodInfo">
		<span class="name">{{ product.name }}</span>
		<span class="supplier">{{ product.supplier.name }}</span>
		<div class="badges flexVAlign">
			<status-badge-app [status]="product.statuses[0].status"></status-badge-app>
			<smart-badge-app
				type="category">{{ product.category.name }}
			</smart-badge-app>
			<smart-badge-app
				type="tag"
				*ngFor="let tag of product.tags">{{ tag.name }}
			</smart-badge-app>
		</div>
	</div>



	<card-footer-app align="left">

		<div class="flexBetween">
			<div class="actions flex flexVAlign">
				<rating-heart-app
					[favorite]="product.favorite"
					(favorited)="onFavorite()"
					(unfavorited)="onUnfavorite()"></rating-heart-app>
				<thumb-buttons-app
					[votes]="product.votes"
					[isSingle]="false"
					(vote)="onVote($event)"></thumb-buttons-app>

				<button class="light icon">
					<icon-app fontSet="fa" name="folder" (click)="openAddToProject()"></icon-app>
				</button>
			</div>
			<button (click)="onViewProduct()">View Product</button>
		</div>

	</card-footer-app>
</card-app>