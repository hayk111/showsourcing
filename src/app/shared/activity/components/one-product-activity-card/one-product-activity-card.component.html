<card-app padding="ms">

	<!-- user -->
	<activity-user-app
		[user]="product.createdBy"
		[time]="product.creationDate"
		action="created a new product"></activity-user-app>

	<!-- preview  -->
	<one-product-carousel-app
		[images]="product?.images">
	</one-product-carousel-app>

	<!-- actions on buttons -->
	<div class="action-section flexBetween">
		<action-bar-app
				[favorite]="product?.favorite"
				[votes]="product?.votes"
				(vote)="onVote($event)"
				(onFavorite)="onFavorite()"
				(onUnfavorite)="onUnfavorite()">
				<button class="icon light" (click)="openAddToProject()">
					<icon-app fontSet="svg" name="folder"></icon-app>
				</button>
		</action-bar-app>
		<div class="right flex">
			<button class="light" (click)="onViewProduct()">Open Product</button>
			<button class="icon light">
				<icon-app fontSet="svg" name="3-dots-vertical"></icon-app>
			</button>
		</div>
	</div>

	<!-- information of the product -->
	<div class="flexColumn prodInfo">
		<span class="name">{{ product?.name }}</span>
		<div class="flex status-info flexWrap">
			<span *ngIf="product?.price?.value" class="price">{{ product.price.value | currency: product?.price?.currency:'symbol':'1.2-2' }}</span>
			<span *ngIf="product?.category?.name">{{ product.category.name }}</span>
			<span *ngIf="product?.supplier?.name" class="supplier">{{ product.supplier.name }}</span>
			<icons-status-app
				*ngIf="product?.score !== null"
				class="flex"
				[onlyLike]="true"
				[product]="product">
			</icons-status-app>
			<span *ngIf="product?.comments?.length > 0">{{ product.comments.length }} comment{{product.comments.length > 1 ? 's' : '' }}</span>
		</div>
		<div class="badges flex flexWrap">
			<status-badge-app
				size="mini"
				[round]="true"
				[typeEntity]="typeEntity"
				[status]="product?.status?.status">
			</status-badge-app>
			<info-badge-app *ngIf="product?.category?.name" type="category">{{ product.category.name }}</info-badge-app>
			<info-badge-app *ngFor="let tag of product?.tags" type="tag">{{ tag.name }}</info-badge-app>
			<info-badge-app *ngFor="let project of product?.projects" type="project">{{ project.name }}</info-badge-app>
		</div>
	</div>

	<card-footer-app align="left" class="flexBetween">
		<!-- here the comment component with previosu commennts loaded -->
		<input inputApp type="text" placeholder="Leave a comment"/>
		<button *ngIf="input.focussed" class="secondary-light">Send</button>
	</card-footer-app>
</card-app>