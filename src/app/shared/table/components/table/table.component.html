<div class="ctnr horizontal-scroll-except-first-column"
	infiniScroll (bottomReached)="bottomReached.emit()" [bottomDistance]="100">
	<table class="fullWidth">
		<thead>
			<tr>
				<!-- empty border -->
				<th></th>
				<!-- select all -->
				<th *ngIf="hasSelection">
					<checkbox-app [checked]="isAllSelected()" (check)="onSelectAll()" (uncheck)="onUnselectAll()"></checkbox-app>
				</th>
				<!-- columns -->
				<th *ngFor="let column of columns" (click)="sort(column)" [style.width]="column.width + 'px'"
					 class="{{ column.sortable ? 'pointer' : ''}} {{ column.grows ? 'flexGrow' : '' }}">
					<div class="headerContent">
						{{ column.title }}
						<ng-container *ngIf="column.currentSort !== 'none'">
							<icon-app  fontSet="fa" size="xs" name="angle-down" *ngIf="column.currentSort === 'desc'; else upArrow;"></icon-app>
							<ng-template #upArrow>
								<icon-app  fontSet="fa" size="xs" name="angle-up"></icon-app>
							</ng-template>
						</ng-container>
					</div>
				</th>

			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let row of rows;trackBy: trackByFn" class="row">
				<!-- empty border -->
				<td></td>
				<!-- selection -->
				<td *ngIf="hasSelection">
					<checkbox-app [checked]="selection.has(row[idName])" (check)="onSelectOne(row[idName])" (uncheck)="onUnselectOne(row[idName])"></checkbox-app>
				</td>
				<!-- cols -->
				<td *ngFor="let column of columns" class="ellipsis {{ column.grows ? 'flexGrow' : '' }}" [style.width]="column.width + 'px'">
						<!-- Render the column template when specified -->
						<ng-container
							*ngTemplateOutlet="column.template; context: { column: column, row: row }">
						</ng-container>
				</td>
			</tr>
		</tbody>
	</table>
</div>
