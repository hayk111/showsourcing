<!-- when the value is undefined, null or 0 we display '-'.
A package with 0cm makes no sens -->
<ng-container *ngIf="!(config.mode === 'form'); else other">
	<!-- length -->
	<editable-field-app
		#cell1
		[inlineLabel]="true"
		[align]="config.alignValue"
		(closed)="onClose($event)"
		(opened)="inp1.select();">
		<label-app translate="text.length"></label-app>
		<editable-display-app>
			{{ value?.length ? (value?.length + ' ' + value?.unit) : '-' }}
		</editable-display-app>
		<form-field-app class="editable edit">
			<input inputApp
				#inp1
				restrictInput="decimal"
				autofocus="true"
				[value]="value?.length"
				[type]="'number'"
				(input)="onChangePackaging('length', +inp1.value)"
				(keyup.enter)="cell1.close();"/>
		</form-field-app>
	</editable-field-app>

	<!-- width -->
	<editable-field-app
		#cell2
		[inlineLabel]="true"
		[align]="config.alignValue"
		(closed)="onClose($event)"
		(opened)="inp2.select();">
		<label-app translate="text.width"></label-app>
		<editable-display-app>
			{{ value?.width ? (value?.width + ' ' + value?.unit) : '-' }}
		</editable-display-app>
		<form-field-app class="editable edit">
			<input inputApp
				#inp2
				restrictInput="decimal"
				autofocus="true"
				[value]="value?.width"
				(input)="onChangePackaging('width', +inp2.value)"
				(keyup.enter)="cell2.close();"
				[type]="'number'"/>
		</form-field-app>
	</editable-field-app>

	<!-- height -->
	<editable-field-app
		#cell3
		[inlineLabel]="true"
		[align]="config.alignValue"
		(closed)="onClose($event)"
		(opened)="inp3.select();">
		<label-app translate="text.height"></label-app>
			<editable-display-app>
				{{ value?.height ? (value?.height + ' ' + value?.unit) : '-' }}
			</editable-display-app>
			<form-field-app class="editable edit">
				<input inputApp
					#inp3
					restrictInput="decimal"
					autofocus="true"
					[value]="value?.height"
					(input)="onChangePackaging('height', +inp3.value)"
					(keyup.enter)="cell3.close();"
					[type]="'number'"/>
			</form-field-app>
	</editable-field-app>

	<!-- height units -->
	<selector-app
		[type]="'LENGTH_UNIT' | erm"
		[width]="180"
		[offsetY]="-34"
		[value]="value.unit"
		(update)="onChangePackaging('unit', $event)"
		(menuClosed)="cell4.close()">
		<editable-field-app
			#cell4
			[hasAction]="false"
			[align]="config.alignValue"
			[inlineLabel]="true"
			(closed)="onClose($event)">
			<label-app translate="text.dimension-unit"></label-app>
			<editable-display-app>
				{{ value?.unit || '-' }}
			</editable-display-app>
		</editable-field-app>
	</selector-app>

	<!-- Quantity -->
	<editable-field-app
		#cell5
		[inlineLabel]="true"
		[align]="config.alignValue"
		(closed)="onClose($event)"
		(opened)="inp5.select();">
		<label-app translate="text.quantity"></label-app>
		<editable-display-app>
			{{ value?.itemsQuantity ? value.itemsQuantity : '-' }}
		</editable-display-app>
		<form-field-app class="editable edit">
			<input inputApp
				#inp5
				restrictInput="number"
				autofocus="true"
				[value]="value?.itemsQuantity"
				[type]="'number'"
				(input)="onChangePackaging('itemsQuantity', +inp5.value)"
				(keyup.enter)="cell5.close();"/>
		</form-field-app>
	</editable-field-app>

	<!-- weight -->
	<editable-field-app
		#cell6
		[inlineLabel]="true"
		[align]="config.alignValue"
		(closed)="onClose($event)"
		(opened)="inp6.select();">
		<label-app translate="text.weight"></label-app>
		<editable-display-app>
			{{ value?.weight ? (value?.weight + ' ' + value?.weightUnit) : '-' }}
		</editable-display-app>
		<form-field-app class="editable edit">
			<input inputApp
				#inp6
				restrictInput="decimal"
				autofocus="true"
				[value]="value?.weight"
				(input)="onChangePackaging('weight', +inp6.value)"
				(keyup.enter)="cell6.close();"
				[type]="'number'"/>
		</form-field-app>
	</editable-field-app>

	<!-- weigth units -->
	<selector-app
		[type]="'WEIGHT_UNIT' | erm"
		[value]="value.weightUnit"
		[width]="180"
		[offsetY]="-34"
		(update)="onChangePackaging('weightUnit', $event)"
		(menuClosed)="cell7.close()">
		<editable-field-app
			#cell7
			[inlineLabel]="true"
			[align]="config.alignValue"
			[hasAction]="false"
			(closed)="onClose($event)">
			<label-app translate="text.weight-unit"></label-app>
			<editable-display-app>
				{{ value?.weightUnit || '-' }}
			</editable-display-app>
		</editable-field-app>
	</selector-app>

</ng-container>

<ng-template #other>
	<div class="flex form-section">
		<form-field-app class="modal col-25">
			<label-app translate="text.length"></label-app>
			<input inputApp autoFocus [canFocus]="autofocus" #inp1 [disabled]="disabled" [value]="value.length" type="number"
			[placeholder]="'placeholder.length' | translate" restrictInput="decimal" (input)="onChangePackaging('length', +inp1.value)"/>
		</form-field-app>

		<form-field-app class="modal col-25">
			<label-app translate="text.width"></label-app>
			<input inputApp #inp2 [disabled]="disabled" [value]="value.width" type="number"
			[placeholder]="'placeholder.width' | translate" restrictInput="decimal" (input)="onChangePackaging('width', +inp2.value)"/>
		</form-field-app>

		<form-field-app class="modal col-25">
			<label-app translate="text.height"></label-app>
			<input inputApp #inp3 [disabled]="disabled" [value]="value.height" type="number"
			[placeholder]="'placeholder.height' | translate" restrictInput="decimal" (input)="onChangePackaging('height', +inp3.value)"/>
		</form-field-app>

		<form-field-app class="modal col-25">
			<label-app translate="text.units"></label-app>
			<selector-app
			 	[disabled]="disabled"
				[type]="'LENGTH_UNIT' | erm"
				[value]="value.unit"
				(update)="onChangePackaging('unit', $event)">
				<selector-placeholder-app
					tabFocusAction
					[ngClass]="{ 'disabled': disabled }"
					[name]="value.unit"
					[placeholder]="'placeholder.unit' | translate">
				</selector-placeholder-app>
			</selector-app>
			<input inputApp [disabled]="disabled" [hidden]="true" type="text">
		</form-field-app>
	</div>

	<div class="flex form-section">
		<form-field-app class="modal col-50">
			<label-app translate="text.quantity"></label-app>
			<input inputApp #inp4 [disabled]="disabled" [value]="value.itemsQuantity" type="number"
			[placeholder]="'placeholder.quantity' | translate" restrictInput="number" (input)="onChangePackaging('itemsQuantity', +inp4.value)"/>
		</form-field-app>

		<form-field-app class="modal col-25">
			<label-app translate="text.weight"></label-app>
			<input inputApp #inp5 [disabled]="disabled" [value]="value.weight"
			[placeholder]="'placeholder.weight' | translate" type="number" restrictInput="decimal" (input)="onChangePackaging('weight', +inp5.value)"/>
		</form-field-app>

		<form-field-app class="modal col-25">
			<label-app translate="text.unit"></label-app>
			<selector-app
				[disabled]="disabled"
				[type]="'WEIGHT_UNIT' | erm"
				[value]="value.weightUnit"
				(update)="onChangePackaging('weightUnit', $event)">
				<selector-placeholder-app
					tabFocusAction
					[ngClass]="{ 'disabled': disabled }"
					[name]="value.weightUnit"
					[placeholder]="'placeholder.unit' | translate">
				</selector-placeholder-app>
			</selector-app>
			<input inputApp [disabled]="disabled" [hidden]="true" type="text">
		</form-field-app>
	</div>
</ng-template>
