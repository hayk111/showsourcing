<div class="flexBetween" *ngIf="!editMode">
  <div class="flex editable pointer" [class.flexBetween]="isFullWidth" [class.rightAligned]="!isFullWidth">
    <div class="editButton leftButton" *ngIf="!isFullWidth" (click)="openEditMode()">Edit </div>
    <!-- if we get an id as value, we should display the name of the entity -->
    <!-- else we just display said value -->
    <ng-container [ngSwitch]="type" class="flex">
      <ng-container *ngSwitchCase="'select-entity'">
        <a class="pointer">{{ value | entityName: entityRep.entityName | async }}</a>
      </ng-container>
      <ng-container *ngSwitchCase="'price'">
        {{ value?.priceAmount }} {{ value?.priceCurrency?.id }}
      </ng-container>
      <ng-container *ngSwitchCase="'currency'">
        {{ value?.priceCurrency?.id }}
      </ng-container>
      <ng-container *ngSwitchDefault>
        {{ value }}
      </ng-container>

    </ng-container>
    <div class="editButton" *ngIf="isFullWidth" (click)="openEditMode()">Edit </div>
  </div>
</div>


<div *ngIf="editMode" (clickOutside)="closeEditMode()">
  <input-app [label]="label" [value]="value" *ngIf="type === 'text'" (update)="update.emit($event)"></input-app>
  <input-app [label]="label" [value]="value" *ngIf="type === 'number'" type="number" (update)="update.emit($event)"></input-app>
  <ng-select class="entitySelector" [items]="entities | async" bindLabel="name" bindValue="id" *ngIf="type === 'select-entity'" (change)="update.emit($event)"></ng-select>
  <!-- <input-select-entity-app [label]="label" *ngIf="type === 'select-entity'" [panelVisible]="true" [entityRep]="entityRep" [value]="value"
    (update)="update.emit($event)"></input-select-entity-app> -->
  <input-price-app [label]="label" *ngIf="type === 'price'" [value]="value" (update)="update.emit($event)"></input-price-app>
  <input-currency-app [label]="label" *ngIf="type === 'currency'" [value]="value" (update)="update.emit($event)"></input-currency-app>
</div>
