
<ng-container *ngFor="let type of filterBtns">

	<ng-container *ngIf="filterMap.get(type).length === 0; else list">

		<label>
			{{ type }}
		</label>

		<button class="secondary-light fullWidth"
			(click)="btnClicked.emit(type)">
			Filter {{ type }}
		</button>

	</ng-container>

		<!-- if there is a filter the button doesn't appear and we display a list of filters -->
		<ng-template #list>
			<div class="flexBetween">
				<label>
					{{ type }}
				</label>
				<span class="edit pointer"
					(click)="btnClicked.emit(type)"
					i18n="span|Edit filter selection@@global_edit">
					Edit
				</span>
				<span class="clear pointer"
					(click)="reset.emit(type)"
					i18n="span|Clear filter selection@@global_clear">
					Clear
				</span>
			</div>

			<div class="flexColumn">
				<checkbox-app
					*ngFor="let filter of filterMap.get(type)"
					[checked]="true"
					(uncheck)="removeFilter(filter)">
					<!-- {{ getDisplayName(filter, type) }} -->
				</checkbox-app>
			</div>

		</ng-template>

</ng-container>

<ng-container *ngIf="hasFavoriteFilter">
	<!-- favorite -->
	<checkbox-app
		[checked]="byType.get(filterType.FAVORITE).size > 0"
		(check)="addFilter({ type: filterType.FAVORITE, value: true })"
		(uncheck)="removeFilter({ type: filterType.FAVORITE, value: true })">
			<rating-heart-app [static]="true" [favorite]="true"></rating-heart-app>
			<span i18n="paragraph|Only favorites checkbox title@@productFilters_showFavorites">
				Only Show Favorites
			</span>
	</checkbox-app>
</ng-container>

<ng-container *ngIf="hasArchivedFilter">
	<checkbox-app
		[checked]="byType.get(filterType.ARCHIVED).size > 0"
		(check)="addFilter({ type: filterType.ARCHIVED, value: true })"
		(uncheck)="removeFilter({ type: filterType.ARCHIVED, value: false })"
		i18n="checkbox|Archieved checkbox title@@productFilters_showArchived">
		Show Archived Products
	</checkbox-app>
</ng-container>